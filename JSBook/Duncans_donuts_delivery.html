<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Variables and constants</title>
    <script type="text/javascript">
function updateOrder () {
	const TAXRATE = 0.0925;
	const DONUTPRICE = 0.50;
	var numCakeDonuts = parseDonuts (document.getElementById("cakedonuts").value);
	var numGlazedDonuts = parseDonuts (document.getElementById("glazeddonuts").value);
	function parseDonuts (donutString) {
		var numDonuts = parseInt (donutString);
		if (donutString.indexOf ("dozen") != -1) {
			numDonuts *= 12;
		}
	return numDonuts;
	}
	if (isNaN(numCakeDonuts)) {
		numCakeDonuts = 0;
	}
	if (isNaN(numGlazedDonuts)) {
		numGlazedDonuts = 0;
	}
	var subTotal = (numCakeDonuts + numGlazedDonuts) * DONUTPRICE;
	var	tax = subTotal * TAXRATE;
	var total = subTotal + tax;
	document.getElementById("subtotal").value="$" + subTotal.toFixed(2);
	document.getElementById("tax").value =  "$" + tax.toFixed(2);
	document.getElementById("total").value = "$" + total.toFixed(2);
	}
function placeOrder () {
	if (document.getElementById("clientname").value == "") {
		alert ("I'm sorry, but you must provide your name before submitting the order");
	}
	else if (document.getElementById("pickupminutes").value == "" || isNaN (document.getElementById("pickupminutes").value)) {
				alert ("I'm sorry, but you must provide the number of minutes untill pick up before submitting the order");
	}
	else {
	// Return the order to the server
	form, submit ();
	}
}
	
   </script>
</head>
<body>
<div id="frame">
<form name="orderform" action="donuts.php" method="POST">
<div class="field">
Name: <input type="text" id="clientname" name="clientName"
value="" onchange="placeOrder();" />
</div>
<div class="field">
Number of cake donuts: <input type="text" id="cakedonuts" name="cakedonuts"
value="" onchange="updateOrder();" />
</div>
<div class="field">
Number of glazed donuts: <input type="text" id="glazeddonuts" name="glazeddonuts" value=""
onchange="updateOrder();" /> 
</div>
<div class="field">
Minuts untill pick up: <input type="text" id="pickupminutes" name="pickUpMinutes"
value="" onchange="updateOrder();" />
</div>
<div class="field">
Subtotal: <input type="text" id="subtotal" name="subTotal"
value="" onchange="updateOrder();" />
</div>
<div class="field">
Tax: <input type="text" id="tax" name="tax"
value="" onchange="updateOrder();" />
</div>
<div class="field">
Total: <input type="text" id="total" name="total"
value="" onchange="placeOrder();" />
</div>
<div class="field">
<input type="button" value="Submit the order"
onclick="placeOrder(this.form);" />
</div>
</form>
</div>
</body>
</html>